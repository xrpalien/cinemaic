<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>cinemAIc</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

<!-- â”€â”€ Sign-in screen â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="sign-in-screen">
  <div class="signin-card">
    <div class="signin-logo">cinem<span class="ai-highlight">AI</span>c</div>
    <p class="signin-tagline">Cinema, curated.</p>
    <button class="btn-google-signin" onclick="app.signIn()">
      <svg width="18" height="18" viewBox="0 0 48 48">
        <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/>
        <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/>
        <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/>
        <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.18 1.48-4.97 2.31-8.16 2.31-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/>
      </svg>
      Sign in with Google
    </button>
  </div>
</div>

<!-- â”€â”€ App shell (hidden until authenticated) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="app-shell" hidden>

<!-- â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<header>
  <div class="logo">cinem<span class="ai-highlight">AI</span>c</div>

  <div class="nav-tabs">
    <button class="nav-tab active" id="nav-movie" onclick="app.setMediaType('movie')">Movies</button>
    <button class="nav-tab" id="nav-tv" onclick="app.setMediaType('tv')">TV Shows</button>
  </div>

  <div class="header-actions">
    <button class="btn-add" onclick="app.openSearchModal()">
      <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
        <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
      </svg>
      Add
    </button>
    <div class="user-menu" id="user-menu">
      <button class="user-menu-trigger" id="user-menu-trigger" aria-haspopup="true" aria-expanded="false">
        <span id="user-name"></span>
        <img id="user-avatar" class="user-avatar" src="" alt="avatar" hidden />
      </button>
      <div class="user-menu-dropdown" id="user-menu-dropdown" hidden>
        <button class="user-menu-item" onclick="app.openProfileModal()">My Taste Profile</button>
        <button class="user-menu-item" onclick="app.openFeedbackModal()">Send Feedback</button>
        <div class="user-menu-divider"></div>
        <button class="user-menu-item" onclick="app.signOutUser()">Sign out</button>
      </div>
    </div>
  </div>
</header>

<!-- â”€â”€ Filter Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="filter-bar">
  <div class="filter-tabs">
    <button class="filter-tab active" id="filter-watchlist" onclick="app.setFilter('watchlist')">To Watch</button>
    <button class="filter-tab" id="filter-watched" onclick="app.setFilter('watched')">Watched</button>
    <button class="filter-tab filter-tab-explore" id="filter-explore" onclick="app.setFilter('explore')">âœ¦ Explore</button>
  </div>
  <div class="sort-wrap" id="sort-wrap">
    <select class="sort-select" id="sort-select" onchange="app.setSort(this.value)">
      <option value="alpha">A â€“ Z</option>
      <option value="year">Year</option>
      <option value="rating">Rating</option>
    </select>
  </div>
</div>

<!-- â”€â”€ Genre Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="genre-bar" id="genre-bar" hidden></div>

<!-- â”€â”€ Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="grid-wrap">
  <div id="card-grid"></div>

  <div id="upcoming-section" hidden>
    <div class="section-divider">
      <span class="section-divider-label">Upcoming Releases</span>
    </div>
    <div id="upcoming-grid"></div>
  </div>

  <div id="empty-state" hidden>
    <div class="empty-icon">ðŸŽ¬</div>
    <p class="empty-label"></p>
    <p class="empty-hint">Use the + Add button to search and add titles.</p>
  </div>
</div>

<!-- â”€â”€ Explore â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="explore-view" hidden></div>

</div><!-- /app-shell -->

<!-- â”€â”€ Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="modal" hidden>
  <button class="modal-close" onclick="app.closeModal()" aria-label="Close">âœ•</button>
  <div id="modal-body"></div>
</div>

<script type="module">
  import { render, openSearchModal, closeModal, openProfileModal, openFeedbackModal, setMediaType, setFilter, setSort, setGenre, signIn, signOutUser } from './js/app.js';

  // Expose to inline onclick handlers
  window.app = { render, openSearchModal, closeModal, openProfileModal, openFeedbackModal, setMediaType, setFilter, setSort, setGenre, signIn, signOutUser };

  // Close modal on backdrop click
  document.getElementById('modal').addEventListener('click', e => {
    if (e.target === document.getElementById('modal')) closeModal();
  });

  // Close modal on Escape
  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') closeModal();
  });

  // Auth state is handled in app.js via onAuthStateChanged â€” no render() call needed here

  // User menu toggle
  const menuTrigger  = document.getElementById('user-menu-trigger');
  const menuDropdown = document.getElementById('user-menu-dropdown');

  menuTrigger.addEventListener('click', e => {
    e.stopPropagation();
    const open = !menuDropdown.hidden;
    menuDropdown.hidden = open;
    menuTrigger.setAttribute('aria-expanded', String(!open));
  });

  document.addEventListener('click', () => {
    menuDropdown.hidden = true;
    menuTrigger.setAttribute('aria-expanded', 'false');
  });
</script>
</body>
</html>
